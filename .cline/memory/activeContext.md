# Astro RSS Reader アクティブコンテキスト

## 現在の作業の焦点

現在のプロジェクトは、基本的なRSSリーダー機能を実装した状態から、ユーザーエクスペリエンスの向上と機能の拡張に焦点を移しています。特に以下の領域に注力しています：

1. **ユーザー設定の永続化の強化**
   - キーワード追加・削除機能の完成
   - 通知設定の永続化対応
   - その他の設定保存機能の実装

2. **フィード管理機能の実装**
   - 新規フィード追加フォームとAPI
   - フィード削除機能
   - カテゴリー管理機能

3. **API構造のリファクタリング**
   - `/pages/api/` エンドポイントを Astro アクションに移行
   - RESTful API 設計の一貫性確保
   - エラーレスポンスの標準化

## 最近の変更

### 実装済み機能
- 記事一覧表示
- フィード管理の基本UI
- ブックマーク機能のUI
- 検索機能の基本UI
- 記事プレビュー機能
- フィルタリングとソート機能
- 基本的な通知UI
- 設定画面
- ユーザー設定の基本的なストア管理（$settingsストア）
- 設定更新のAstroアクション基盤
- テーマ・フォントサイズの設定保存基盤

### 進行中の作業
- キーワード追加・削除機能の実装
- フィード追加・削除機能の実装
- 通知設定の永続化対応

## 次のステップ

### 短期目標（1-2週間）
1. **ユーザー設定の永続化の完成**
   - キーワード通知設定の実装
   - 設定変更時の即時反映機能

2. **フィード管理機能の実装**
   - フィード追加フォームの完成
   - フィード削除機能の実装
   - フィードカテゴリーの基本管理

### 中期目標（2-4週間）
1. **API エンドポイントの Astro アクションへの移行**
   - 記事関連APIの移行
   - フィード関連APIの移行
   - エラーハンドリングの標準化

2. **検索機能の強化**
   - 全文検索の実装
   - 検索結果のフィルタリングとソート
   - 検索履歴の保存

3. **通知システムの実装**
   - キーワードマッチングロジック
   - 通知の既読/未読管理
   - 通知設定のカスタマイズ

## アクティブな決定事項

### 技術的決定
1. **永続化戦略**
   - SQLiteを使用したローカルストレージ
   - nanostores/persistentによる設定の永続化
   - 将来的にはIndexedDBへの移行も検討

2. **UI/UXの方向性**
   - モバイルファーストのレスポンシブデザイン
   - ダークモード/ライトモードのサポート
   - アクセシビリティの向上

3. **パフォーマンス最適化**
   - 記事データのページング実装
   - 画像の遅延読み込み
   - Service Workerによるオフライン対応の検討

### 未解決の問題
1. **同期メカニズム**
   - 複数デバイス間でのデータ同期方法
   - オフライン時の変更の扱い
   - 同期の競合解決戦略

2. **スケーラビリティ**
   - 大量のフィードと記事の効率的な管理
   - パフォーマンスへの影響の最小化
   - ストレージ使用量の最適化

3. **セキュリティ考慮事項**
   - ユーザーデータの保護
   - 外部コンテンツの安全な表示
   - APIエンドポイントの保護

## 現在の課題

1. **パフォーマンスの最適化**
   - 大量の記事を表示する際のレンダリングパフォーマンス
   - フィード更新時のバックグラウンド処理

2. **ユーザーフィードバック**
   - モバイル体験の向上
   - オフライン機能のニーズ
   - 通知システムの優先度

3. **技術的負債**
   - APIエンドポイントの一貫性
   - コンポーネントの再利用性
   - テストカバレッジの向上

## 進行中の実験

1. **新しいフィード管理UI**
   - ドラッグ&ドロップによるカテゴリー管理
   - フィードのグループ化

2. **検索アルゴリズムの改善**
   - 関連性スコアリング
   - フィルタリングオプションの拡張

3. **オフライン機能のプロトタイプ**
   - Service Workerの実装
   - オフラインでの記事保存と同期
