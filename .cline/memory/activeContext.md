# Astro RSS Reader アクティブコンテキスト

## 現在の作業の焦点

現在のプロジェクトは、基本的なRSSリーダー機能を実装した状態から、ユーザーエクスペリエンスの向上と機能の拡張に焦点を移しています。特に以下の領域に注力しています：

1. **ユーザー設定の永続化の強化**
   - ✅ キーワード追加・削除機能の完成
   - ✅ 通知設定の永続化対応
   - ✅ その他の設定保存機能の実装

2. **フィード管理機能の実装**
   - ✅ 新規フィード追加フォームとAPI
   - ✅ フィード削除機能
   - ✅ カテゴリー管理機能
   - [ ] OPMLインポート/エクスポート機能

3. **ブックマーク管理の強化**
   - ✅ ブックマークのタグ付け機能
   - ✅ ブックマークのフィルタリング
   - [ ] ブックマークのエクスポート機能

4. **API構造のリファクタリング**
   - [ ] `/pages/api/` エンドポイントを Astro アクションに移行
   - [ ] RESTful API 設計の一貫性確保
   - [ ] エラーレスポンスの標準化

## 最近の変更

### 実装済み機能
- 記事一覧表示
- フィード管理の基本UI
- ブックマーク機能のUI
- 検索機能の基本UI
- 記事プレビュー機能
- フィルタリングとソート機能
- 基本的な通知UI
- 設定画面
- ユーザー設定の基本的なストア管理（$settingsストア）
- 設定更新のAstroアクション基盤
- テーマ・フォントサイズの設定保存基盤
- キーワード追加・削除機能
- フィード追加・削除機能
- カテゴリー管理機能
- ブックマークのタグ付け機能
- ブックマークのタグによるフィルタリング

### 進行中の作業
- ブックマークのエクスポート機能の実装
- OPMLインポート/エクスポート機能の実装
- API エンドポイントの Astro アクションへの移行

## 次のステップ

### 短期目標（1-2週間）
1. **ブックマーク管理の完成**
   - [ ] ブックマークのエクスポート機能の実装
   - [ ] タグ管理UIの改善

2. **フィード管理機能の完成**
   - [ ] OPMLインポート/エクスポート機能の実装
   - [ ] フィード更新の自動化

### 中期目標（2-4週間）
1. **API エンドポイントの Astro アクションへの移行**
   - [ ] 記事関連APIの移行
   - [ ] フィード関連APIの移行
   - [ ] エラーハンドリングの標準化

2. **検索機能の強化**
   - [ ] 全文検索の実装
   - [ ] 検索結果のフィルタリングとソート
   - [ ] 検索履歴の保存

3. **通知システムの実装**
   - [ ] キーワードマッチングロジック
   - [ ] 通知の既読/未読管理
   - [ ] 通知設定のカスタマイズ

## アクティブな決定事項

### 技術的決定
1. **永続化戦略**
   - SQLiteを使用したローカルストレージ
   - nanostores/persistentによる設定の永続化
   - 将来的にはIndexedDBへの移行も検討

2. **UI/UXの方向性**
   - モバイルファーストのレスポンシブデザイン
   - ダークモード/ライトモードのサポート
   - アクセシビリティの向上

3. **パフォーマンス最適化**
   - 記事データのページング実装
   - 画像の遅延読み込み
   - Service Workerによるオフライン対応の検討

4. **タグ管理システム**
   - 色付きタグによる視覚的な分類
   - タグの作成・編集・削除機能
   - 記事とタグの関連付けの永続化

### 未解決の問題
1. **同期メカニズム**
   - 複数デバイス間でのデータ同期方法
   - オフライン時の変更の扱い
   - 同期の競合解決戦略

2. **スケーラビリティ**
   - 大量のフィードと記事の効率的な管理
   - パフォーマンスへの影響の最小化
   - ストレージ使用量の最適化

3. **セキュリティ考慮事項**
   - ユーザーデータの保護
   - 外部コンテンツの安全な表示
   - APIエンドポイントの保護

## 現在の課題

1. **パフォーマンスの最適化**
   - 大量の記事を表示する際のレンダリングパフォーマンス
   - フィード更新時のバックグラウンド処理
   - タグフィルタリング時のパフォーマンス

2. **ユーザーフィードバック**
   - モバイル体験の向上
   - オフライン機能のニーズ
   - タグ管理UIの使いやすさ

3. **技術的負債**
   - APIエンドポイントの一貫性
   - コンポーネントの再利用性
   - テストカバレッジの向上

## 進行中の実験

1. **新しいフィード管理UI**
   - ドラッグ&ドロップによるカテゴリー管理
   - フィードのグループ化

2. **検索アルゴリズムの改善**
   - 関連性スコアリング
   - フィルタリングオプションの拡張

3. **タグ管理システムの拡張**
   - タグの階層構造
   - タグの自動提案
   - タグベースのレコメンデーション
