---
import KeywordChips from "~/components/settings/KeywordChips.astro";
import SettingItem from "~/components/settings/SettingItem.astro";
import SettingSection from "~/components/settings/SettingSection.astro";
import ToggleSwitch from "~/components/settings/ToggleSwitch.astro";
import Layout from "~/layouts/Layout.astro";
---

<Layout title="設定">
  <div class="settings-page">
    <header class="page-header">
      <h1>設定</h1>
    </header>

    <div class="settings-grid">
      <SettingSection title="アピアランス">
        <SettingItem
          title="カラーテーマ"
          description="アプリのカラーテーマを選択"
        >
          <select class="setting-control">
            <option value="system">システム設定に従う</option>
            <option value="light">ライトモード</option>
            <option value="dark">ダークモード</option>
          </select>
        </SettingItem>

        <SettingItem
          title="フォントサイズ"
          description="記事の表示サイズを調整"
        >
          <select class="setting-control">
            <option value="small">小</option>
            <option value="medium">中</option>
            <option value="large">大</option>
          </select>
        </SettingItem>
      </SettingSection>

      <SettingSection title="通知設定">
        <SettingItem title="新着通知" description="フィードの新着記事を通知">
          <ToggleSwitch checked name="new-articles" />
        </SettingItem>

        <SettingItem
          title="キーワード通知"
          description="指定したキーワードを含む記事を通知"
        >
          <ToggleSwitch name="keyword-notifications" />
        </SettingItem>

        <SettingItem
          title="通知キーワード"
          description="通知したいキーワードを入力"
        >
          <KeywordChips keywords={["AI", "Machine Learning"]} />
        </SettingItem>
      </SettingSection>

      <SettingSection title="アカウント">
        <SettingItem title="同期設定" description="複数デバイス間で設定を同期">
          <ToggleSwitch checked name="sync-settings" />
        </SettingItem>

        <SettingItem
          title="データエクスポート"
          description="設定とデータをエクスポート"
        >
          <button class="btn secondary">エクスポート</button>
        </SettingItem>

        <div class="danger-zone">
          <SettingItem
            title="アカウント削除"
            description="すべてのデータが削除されます"
          >
            <button class="btn danger">削除</button>
          </SettingItem>
        </div>
      </SettingSection>
    </div>
  </div>
</Layout>

<style>
  .settings-page {
    max-width: 800px;
    margin: 0 auto;
    padding: var(--space-md);
  }

  .page-header {
    margin-bottom: var(--space-xl);
  }

  .settings-grid {
    display: grid;
    gap: var(--space-xl);
  }

  .danger-zone {
    padding-top: var(--space-md);
    border-top: 1px solid var(--color-border);
  }

  .setting-control {
    min-width: 150px;
    padding: var(--space-sm) var(--space-md);
    border: 1px solid var(--color-border);
    border-radius: 6px;
    background: var(--color-background);
    color: var(--color-text);
    font-size: 0.875rem;
  }

  /* Buttons */
  .btn {
    padding: var(--space-sm) var(--space-md);
    border-radius: 6px;
    font-size: 0.875rem;
    font-weight: 500;
  }

  .btn.secondary {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    color: var(--color-text);
  }

  .btn.danger {
    background: #ef4444;
    border: none;
    color: white;
  }

  @media (max-width: 768px) {
    .setting-control {
      width: 100%;
    }
  }
</style>
