---
import Layout from "~/layouts/Layout.astro";
---

<Layout title="検索">
  <div class="search-page">
    <header>
      <h1>記事検索</h1>
    </header>

    <section class="search-form">
      <form>
        <div class="search-inputs">
          <input type="search" name="q" placeholder="キーワードで検索..." />
          <select name="filter">
            <option value="all">すべて</option>
            <option value="title">タイトル</option>
            <option value="content">本文</option>
            <option value="tags">タグ</option>
          </select>
          <button type="submit">検索</button>
        </div>

        <div class="search-filters">
          <label>
            <input type="checkbox" name="read" />
            未読のみ
          </label>
          <label>
            <input type="checkbox" name="bookmarked" />
            ブックマーク済み
          </label>
        </div>
      </form>
    </section>

    <section class="recent-searches">
      <h2>最近の検索</h2>
      <div class="search-history">
        <article>
          <span>AI technology trends</span>
          <time datetime="2024-02-20T10:00:00">2時間前</time>
          <button>再検索</button>
        </article>
        <article>
          <span>Web development best practices</span>
          <time datetime="2024-02-19">昨日</time>
          <button>再検索</button>
        </article>
      </div>
    </section>

    <section class="search-results">
      <header>
        <h2>検索結果</h2>
        <span>15件</span>
      </header>

      <div class="results-list">
        <article>
          <h3>
            <a href="/articles/1">最新のAI開発動向：2024年の展望と課題</a>
          </h3>
          <p>
            ...最新の<mark>AI</mark>技術トレンドについて解説します。
            特に注目すべき点として、大規模言語モデルの発展と...
          </p>
          <footer>
            <span>Tech News</span>
            <time datetime="2024-02-20">2024.02.20</time>
          </footer>
        </article>
      </div>

      <nav class="pagination">
        <button disabled>&lt; 前へ</button>
        <span>1 / 3</span>
        <button>次へ &gt;</button>
      </nav>
    </section>
  </div>
</Layout>

<style>
  .search-page {
    max-width: var(--grid-max-width);
    margin: 0 auto;
    padding: var(--spacing-md);

    > header {
      margin-bottom: var(--spacing-lg);
    }
  }

  .search-form {
    margin-bottom: var(--spacing-lg);
    padding: var(--spacing-md);
    background: var(--background);
    border: 1px solid var(--neutral);
    border-radius: var(--border-radius-sm);

    form {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-md);
    }

    .search-inputs {
      display: flex;
      gap: var(--spacing-sm);

      input[type="search"],
      select {
        padding: var(--spacing-sm);
        border: 1px solid var(--neutral);
        border-radius: var(--border-radius-sm);
        font-size: var(--font-size-sm);
      }

      input[type="search"] {
        flex: 1;
      }

      button {
        padding: var(--spacing-sm) var(--spacing-md);
        background-color: var(--primary);
        color: var(--on-primary);
        border: none;
        border-radius: var(--border-radius-sm);
        cursor: pointer;
      }
    }

    .search-filters {
      display: flex;
      gap: var(--spacing-lg);

      label {
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
        font-size: var(--font-size-sm);
      }
    }
  }

  .recent-searches {
    margin-bottom: var(--spacing-lg);

    h2 {
      margin-bottom: var(--spacing-md);
    }

    .search-history {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-md);

      article {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--spacing-md);
        background: var(--background);
        border: 1px solid var(--neutral);
        border-radius: var(--border-radius-sm);

        time {
          font-size: var(--font-size-sm);
          color: var(--text-secondary);
        }

        button {
          color: var(--primary);
          background: none;
          border: none;
          cursor: pointer;
        }
      }
    }
  }

  .search-results {
    > header {
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      margin-bottom: var(--spacing-lg);

      span {
        color: var(--text-secondary);
      }
    }

    .results-list {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-md);

      article {
        padding: var(--spacing-md);
        background: var(--background);
        border: 1px solid var(--neutral);
        border-radius: var(--border-radius-sm);

        h3 {
          margin-bottom: var(--spacing-sm);
        }

        p {
          line-height: 1.6;
          color: var(--text-secondary);
          margin-bottom: var(--spacing-sm);
        }

        footer {
          display: flex;
          justify-content: space-between;
          font-size: var(--font-size-sm);
          color: var (--text-secondary);
        }
      }
    }
  }

  .pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: var(--spacing-md);
    margin-top: var(--spacing-lg);

    button {
      color: var(--primary);
      background: none;
      border: none;
      cursor: pointer;

      &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }
    }

    span {
      color: var(--text-secondary);
    }
  }

  @media (max-width: 768px) {
    .search-form {
      .search-inputs {
        flex-direction: column;
      }

      .search-filters {
        flex-direction: column;
        gap: var(--spacing-sm);
      }
    }

    .search-history article {
      flex-direction: column;
      align-items: flex-start;
      gap: var(--spacing-sm);
    }
  }
</style>
